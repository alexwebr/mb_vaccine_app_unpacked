.class public final Lexpo/modules/imagepicker/ImagePickerModule;
.super Ll/d/b/c;
.source "ImagePickerModule.kt"

# interfaces
.implements Ll/d/b/l/a;
.implements Ll/d/b/l/k;


# annotations
.annotation runtime Li/n;
    bv = {
        0x1,
        0x0,
        0x3
    }
    d1 = {
        "\u0000\u00a8\u0001\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0000\n\u0002\u0010\u0002\n\u0002\u0008\u0002\n\u0002\u0010\u000b\n\u0000\n\u0002\u0010\u0011\n\u0002\u0010\u000e\n\u0002\u0008\u0007\n\u0002\u0018\u0002\n\u0000\n\u0002\u0010\u0008\n\u0002\u0008\u0002\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0002\u0008\u0003\n\u0002\u0010$\n\u0002\u0010\u0000\n\u0002\u0008\n\n\u0002\u0018\u0002\n\u0002\u0008\u000f\n\u0002\u0018\u0002\n\u0002\u0008\u0005\n\u0002\u0018\u0002\n\u0002\u0008\u0005\n\u0002\u0018\u0002\n\u0002\u0008\u0007\n\u0002\u0018\u0002\n\u0002\u0008\u0002\n\u0002\u0018\u0002\n\u0002\u0008\u0004\n\u0002\u0018\u0002\n\u0002\u0008\u0008\n\u0002\u0018\u0002\n\u0002\u0008\u0006\n\u0002\u0018\u0002\n\u0002\u0008\u0004\n\u0002\u0018\u0002\n\u0002\u0008\u0005\u0018\u00002\u00020\u00012\u00020\u00022\u00020\u0003B#\u0012\u0006\u0010P\u001a\u00020O\u0012\u0008\u0008\u0002\u0010h\u001a\u00020g\u0012\u0008\u0008\u0002\u0010m\u001a\u00020l\u00a2\u0006\u0004\u0008o\u0010pJ\u0017\u0010\u0007\u001a\u00020\u00062\u0006\u0010\u0005\u001a\u00020\u0004H\u0007\u00a2\u0006\u0004\u0008\u0007\u0010\u0008J\u001d\u0010\r\u001a\u0008\u0012\u0004\u0012\u00020\u000c0\u000b2\u0006\u0010\n\u001a\u00020\tH\u0002\u00a2\u0006\u0004\u0008\r\u0010\u000eJ\u001f\u0010\u000f\u001a\u00020\u00062\u0006\u0010\n\u001a\u00020\t2\u0006\u0010\u0005\u001a\u00020\u0004H\u0007\u00a2\u0006\u0004\u0008\u000f\u0010\u0010J\u000f\u0010\u0011\u001a\u00020\u000cH\u0016\u00a2\u0006\u0004\u0008\u0011\u0010\u0012J\u0017\u0010\u0013\u001a\u00020\u00062\u0006\u0010\u0005\u001a\u00020\u0004H\u0007\u00a2\u0006\u0004\u0008\u0013\u0010\u0008JA\u0010\u001d\u001a\u00020\u00062\u0006\u0010\u0005\u001a\u00020\u00042\u0006\u0010\u0015\u001a\u00020\u00142\u0006\u0010\u0017\u001a\u00020\u00162\u0006\u0010\u0018\u001a\u00020\u00162\u0008\u0010\u001a\u001a\u0004\u0018\u00010\u00192\u0006\u0010\u001c\u001a\u00020\u001bH\u0002\u00a2\u0006\u0004\u0008\u001d\u0010\u001eJ-\u0010\"\u001a\u00020\u00062\u0014\u0010!\u001a\u0010\u0012\u0004\u0012\u00020\u000c\u0012\u0006\u0012\u0004\u0018\u00010 0\u001f2\u0006\u0010\u0005\u001a\u00020\u0004H\u0007\u00a2\u0006\u0004\u0008\"\u0010#J\'\u0010%\u001a\u00020\u00062\u0006\u0010\u0005\u001a\u00020\u00042\u0006\u0010$\u001a\u00020\u00192\u0006\u0010\u001c\u001a\u00020\u001bH\u0002\u00a2\u0006\u0004\u0008%\u0010&J-\u0010\'\u001a\u00020\u00062\u0014\u0010!\u001a\u0010\u0012\u0004\u0012\u00020\u000c\u0012\u0006\u0012\u0004\u0018\u00010 0\u001f2\u0006\u0010\u0005\u001a\u00020\u0004H\u0007\u00a2\u0006\u0004\u0008\'\u0010#J1\u0010)\u001a\u00020\u00062\u0006\u0010\u0015\u001a\u00020\u00142\u0006\u0010\u0017\u001a\u00020\u00162\u0006\u0010\u0018\u001a\u00020\u00162\u0008\u0010(\u001a\u0004\u0018\u00010\u0019H\u0016\u00a2\u0006\u0004\u0008)\u0010*J\u0017\u0010-\u001a\u00020\u00062\u0006\u0010,\u001a\u00020+H\u0016\u00a2\u0006\u0004\u0008-\u0010.J\u000f\u0010/\u001a\u00020\u0006H\u0016\u00a2\u0006\u0004\u0008/\u00100J\u000f\u00101\u001a\u00020\u0006H\u0016\u00a2\u0006\u0004\u00081\u00100J\u000f\u00102\u001a\u00020\u0006H\u0016\u00a2\u0006\u0004\u00082\u00100J\u0017\u00103\u001a\u00020\u00062\u0006\u0010\u001a\u001a\u00020\u0019H\u0016\u00a2\u0006\u0004\u00083\u00104J\u0017\u00105\u001a\u00020\u00062\u0006\u0010\u0005\u001a\u00020\u0004H\u0007\u00a2\u0006\u0004\u00085\u0010\u0008J\u001f\u00106\u001a\u00020\u00062\u0006\u0010\n\u001a\u00020\t2\u0006\u0010\u0005\u001a\u00020\u0004H\u0007\u00a2\u0006\u0004\u00086\u0010\u0010J\u001f\u00107\u001a\u00020\t2\u0006\u0010\u0015\u001a\u00020\u00142\u0006\u0010\u0017\u001a\u00020\u0016H\u0002\u00a2\u0006\u0004\u00087\u00108J/\u00109\u001a\u00020\u00062\u0006\u0010\u001a\u001a\u00020\u00192\u0006\u0010\u0017\u001a\u00020\u00162\u0006\u0010\u0005\u001a\u00020\u00042\u0006\u0010\u001c\u001a\u00020\u001bH\u0002\u00a2\u0006\u0004\u00089\u0010:J7\u0010?\u001a\u00020\u00062\u0006\u0010\u0005\u001a\u00020\u00042\u0006\u0010<\u001a\u00020;2\u0006\u0010=\u001a\u00020\u000c2\u0006\u0010>\u001a\u00020\t2\u0006\u0010\u001c\u001a\u00020\u001bH\u0002\u00a2\u0006\u0004\u0008?\u0010@R\u001c\u0010B\u001a\u0008\u0012\u0004\u0012\u00020\u00140A8\u0002@\u0002X\u0082.\u00a2\u0006\u0006\n\u0004\u0008B\u0010CR\u0018\u0010F\u001a\u0004\u0018\u00010\u00148B@\u0002X\u0082\u0004\u00a2\u0006\u0006\u001a\u0004\u0008D\u0010ER\u001d\u0010L\u001a\u00020G8B@\u0002X\u0082\u0084\u0002\u00a2\u0006\u000c\n\u0004\u0008H\u0010I\u001a\u0004\u0008J\u0010KR\u0018\u0010M\u001a\u0004\u0018\u00010;8\u0002@\u0002X\u0082\u000e\u00a2\u0006\u0006\n\u0004\u0008M\u0010NR\u0016\u0010P\u001a\u00020O8\u0002@\u0002X\u0082\u0004\u00a2\u0006\u0006\n\u0004\u0008P\u0010QR\u001d\u0010V\u001a\u00020R8B@\u0002X\u0082\u0084\u0002\u00a2\u0006\u000c\n\u0004\u0008S\u0010I\u001a\u0004\u0008T\u0010UR\u001d\u0010[\u001a\u00020W8B@\u0002X\u0082\u0084\u0002\u00a2\u0006\u000c\n\u0004\u0008X\u0010I\u001a\u0004\u0008Y\u0010ZR\u0018\u0010\\\u001a\u0004\u0018\u00010\u001b8\u0002@\u0002X\u0082\u000e\u00a2\u0006\u0006\n\u0004\u0008\\\u0010]R\u0018\u0010^\u001a\u0004\u0018\u00010\u00048\u0002@\u0002X\u0082\u000e\u00a2\u0006\u0006\n\u0004\u0008^\u0010_R\u001d\u0010d\u001a\u00020`8B@\u0002X\u0082\u0084\u0002\u00a2\u0006\u000c\n\u0004\u0008a\u0010I\u001a\u0004\u0008b\u0010cR\u0016\u0010e\u001a\u00020\t8\u0002@\u0002X\u0082\u000e\u00a2\u0006\u0006\n\u0004\u0008e\u0010fR\u0019\u0010h\u001a\u00020g8\u0006@\u0006\u00a2\u0006\u000c\n\u0004\u0008h\u0010i\u001a\u0004\u0008j\u0010kR\u0016\u0010m\u001a\u00020l8\u0002@\u0002X\u0082\u0004\u00a2\u0006\u0006\n\u0004\u0008m\u0010n\u00a8\u0006q"
    }
    d2 = {
        "Lexpo/modules/imagepicker/ImagePickerModule;",
        "Ll/d/b/l/a;",
        "Ll/d/b/l/k;",
        "Ll/d/b/c;",
        "Lorg/unimodules/core/Promise;",
        "promise",
        "",
        "getCameraPermissionsAsync",
        "(Lorg/unimodules/core/Promise;)V",
        "",
        "writeOnly",
        "",
        "",
        "getMediaLibraryPermissions",
        "(Z)[Ljava/lang/String;",
        "getMediaLibraryPermissionsAsync",
        "(ZLorg/unimodules/core/Promise;)V",
        "getName",
        "()Ljava/lang/String;",
        "getPendingResultAsync",
        "Landroid/app/Activity;",
        "activity",
        "",
        "requestCode",
        "resultCode",
        "Landroid/content/Intent;",
        "intent",
        "Lexpo/modules/imagepicker/ImagePickerOptions;",
        "pickerOptions",
        "handleOnActivityResult",
        "(Lorg/unimodules/core/Promise;Landroid/app/Activity;IILandroid/content/Intent;Lexpo/modules/imagepicker/ImagePickerOptions;)V",
        "",
        "",
        "options",
        "launchCameraAsync",
        "(Ljava/util/Map;Lorg/unimodules/core/Promise;)V",
        "cameraIntent",
        "launchCameraWithPermissionsGranted",
        "(Lorg/unimodules/core/Promise;Landroid/content/Intent;Lexpo/modules/imagepicker/ImagePickerOptions;)V",
        "launchImageLibraryAsync",
        "data",
        "onActivityResult",
        "(Landroid/app/Activity;IILandroid/content/Intent;)V",
        "Lorg/unimodules/core/ModuleRegistry;",
        "moduleRegistry",
        "onCreate",
        "(Lorg/unimodules/core/ModuleRegistry;)V",
        "onHostDestroy",
        "()V",
        "onHostPause",
        "onHostResume",
        "onNewIntent",
        "(Landroid/content/Intent;)V",
        "requestCameraPermissionsAsync",
        "requestMediaLibraryPermissionsAsync",
        "shouldHandleOnActivityResult",
        "(Landroid/app/Activity;I)Z",
        "startActivityOnResult",
        "(Landroid/content/Intent;ILorg/unimodules/core/Promise;Lexpo/modules/imagepicker/ImagePickerOptions;)V",
        "Landroid/net/Uri;",
        "uri",
        "type",
        "needGenerateFile",
        "startCropIntent",
        "(Lorg/unimodules/core/Promise;Landroid/net/Uri;Ljava/lang/String;ZLexpo/modules/imagepicker/ImagePickerOptions;)V",
        "Ljava/lang/ref/WeakReference;",
        "_experienceActivity",
        "Ljava/lang/ref/WeakReference;",
        "getExperienceActivity",
        "()Landroid/app/Activity;",
        "experienceActivity",
        "Lorg/unimodules/core/interfaces/ActivityProvider;",
        "mActivityProvider$delegate",
        "Lkotlin/Lazy;",
        "getMActivityProvider",
        "()Lorg/unimodules/core/interfaces/ActivityProvider;",
        "mActivityProvider",
        "mCameraCaptureURI",
        "Landroid/net/Uri;",
        "Landroid/content/Context;",
        "mContext",
        "Landroid/content/Context;",
        "Lorg/unimodules/interfaces/imageloader/ImageLoader;",
        "mImageLoader$delegate",
        "getMImageLoader",
        "()Lorg/unimodules/interfaces/imageloader/ImageLoader;",
        "mImageLoader",
        "Lorg/unimodules/interfaces/permissions/Permissions;",
        "mPermissions$delegate",
        "getMPermissions",
        "()Lorg/unimodules/interfaces/permissions/Permissions;",
        "mPermissions",
        "mPickerOptions",
        "Lexpo/modules/imagepicker/ImagePickerOptions;",
        "mPromise",
        "Lorg/unimodules/core/Promise;",
        "Lorg/unimodules/core/interfaces/services/UIManager;",
        "mUIManager$delegate",
        "getMUIManager",
        "()Lorg/unimodules/core/interfaces/services/UIManager;",
        "mUIManager",
        "mWasDestroyed",
        "Z",
        "Lexpo/modules/imagepicker/ModuleRegistryPropertyDelegate;",
        "moduleRegistryPropertyDelegate",
        "Lexpo/modules/imagepicker/ModuleRegistryPropertyDelegate;",
        "getModuleRegistryPropertyDelegate",
        "()Lexpo/modules/imagepicker/ModuleRegistryPropertyDelegate;",
        "Lexpo/modules/imagepicker/PickerResultsStore;",
        "pickerResultStore",
        "Lexpo/modules/imagepicker/PickerResultsStore;",
        "<init>",
        "(Landroid/content/Context;Lexpo/modules/imagepicker/ModuleRegistryPropertyDelegate;Lexpo/modules/imagepicker/PickerResultsStore;)V",
        "expo-image-picker_release"
    }
    k = 0x1
    mv = {
        0x1,
        0x1,
        0xf
    }
    pn = ""
    xi = 0x0
    xs = ""
.end annotation


# static fields
.field static final synthetic $$delegatedProperties:[Li/k0/k;


# instance fields
.field private _experienceActivity:Ljava/lang/ref/WeakReference;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/lang/ref/WeakReference<",
            "Landroid/app/Activity;",
            ">;"
        }
    .end annotation
.end field

.field private final mActivityProvider$delegate:Li/h;

.field private mCameraCaptureURI:Landroid/net/Uri;

.field private final mContext:Landroid/content/Context;

.field private final mImageLoader$delegate:Li/h;

.field private final mPermissions$delegate:Li/h;

.field private mPickerOptions:Lexpo/modules/imagepicker/ImagePickerOptions;

.field private mPromise:Ll/d/b/h;

.field private final mUIManager$delegate:Li/h;

.field private mWasDestroyed:Z

.field private final moduleRegistryPropertyDelegate:Lexpo/modules/imagepicker/ModuleRegistryPropertyDelegate;

.field private final pickerResultStore:Lexpo/modules/imagepicker/PickerResultsStore;


# direct methods
.method static constructor <clinit>()V
    .locals 6

    const-class v0, Lexpo/modules/imagepicker/ImagePickerModule;

    const/4 v1, 0x4

    new-array v1, v1, [Li/k0/k;

    new-instance v2, Li/h0/d/u;

    invoke-static {v0}, Li/h0/d/y;->b(Ljava/lang/Class;)Li/k0/c;

    move-result-object v3

    const-string v4, "mImageLoader"

    const-string v5, "getMImageLoader()Lorg/unimodules/interfaces/imageloader/ImageLoader;"

    invoke-direct {v2, v3, v4, v5}, Li/h0/d/u;-><init>(Li/k0/e;Ljava/lang/String;Ljava/lang/String;)V

    invoke-static {v2}, Li/h0/d/y;->g(Li/h0/d/t;)Li/k0/m;

    move-result-object v2

    const/4 v3, 0x0

    aput-object v2, v1, v3

    new-instance v2, Li/h0/d/u;

    invoke-static {v0}, Li/h0/d/y;->b(Ljava/lang/Class;)Li/k0/c;

    move-result-object v3

    const-string v4, "mUIManager"

    const-string v5, "getMUIManager()Lorg/unimodules/core/interfaces/services/UIManager;"

    invoke-direct {v2, v3, v4, v5}, Li/h0/d/u;-><init>(Li/k0/e;Ljava/lang/String;Ljava/lang/String;)V

    invoke-static {v2}, Li/h0/d/y;->g(Li/h0/d/t;)Li/k0/m;

    move-result-object v2

    const/4 v3, 0x1

    aput-object v2, v1, v3

    new-instance v2, Li/h0/d/u;

    invoke-static {v0}, Li/h0/d/y;->b(Ljava/lang/Class;)Li/k0/c;

    move-result-object v3

    const-string v4, "mPermissions"

    const-string v5, "getMPermissions()Lorg/unimodules/interfaces/permissions/Permissions;"

    invoke-direct {v2, v3, v4, v5}, Li/h0/d/u;-><init>(Li/k0/e;Ljava/lang/String;Ljava/lang/String;)V

    invoke-static {v2}, Li/h0/d/y;->g(Li/h0/d/t;)Li/k0/m;

    move-result-object v2

    const/4 v3, 0x2

    aput-object v2, v1, v3

    new-instance v2, Li/h0/d/u;

    invoke-static {v0}, Li/h0/d/y;->b(Ljava/lang/Class;)Li/k0/c;

    move-result-object v0

    const-string v3, "mActivityProvider"

    const-string v4, "getMActivityProvider()Lorg/unimodules/core/interfaces/ActivityProvider;"

    invoke-direct {v2, v0, v3, v4}, Li/h0/d/u;-><init>(Li/k0/e;Ljava/lang/String;Ljava/lang/String;)V

    invoke-static {v2}, Li/h0/d/y;->g(Li/h0/d/t;)Li/k0/m;

    move-result-object v0

    const/4 v2, 0x3

    aput-object v0, v1, v2

    sput-object v1, Lexpo/modules/imagepicker/ImagePickerModule;->$$delegatedProperties:[Li/k0/k;

    return-void
.end method

.method public constructor <init>(Landroid/content/Context;Lexpo/modules/imagepicker/ModuleRegistryPropertyDelegate;Lexpo/modules/imagepicker/PickerResultsStore;)V
    .locals 1

    const-string v0, "mContext"

    invoke-static {p1, v0}, Li/h0/d/k;->c(Ljava/lang/Object;Ljava/lang/String;)V

    const-string v0, "moduleRegistryPropertyDelegate"

    invoke-static {p2, v0}, Li/h0/d/k;->c(Ljava/lang/Object;Ljava/lang/String;)V

    const-string v0, "pickerResultStore"

    invoke-static {p3, v0}, Li/h0/d/k;->c(Ljava/lang/Object;Ljava/lang/String;)V

    .line 3
    invoke-direct {p0, p1}, Ll/d/b/c;-><init>(Landroid/content/Context;)V

    iput-object p1, p0, Lexpo/modules/imagepicker/ImagePickerModule;->mContext:Landroid/content/Context;

    iput-object p2, p0, Lexpo/modules/imagepicker/ImagePickerModule;->moduleRegistryPropertyDelegate:Lexpo/modules/imagepicker/ModuleRegistryPropertyDelegate;

    iput-object p3, p0, Lexpo/modules/imagepicker/ImagePickerModule;->pickerResultStore:Lexpo/modules/imagepicker/PickerResultsStore;

    .line 4
    invoke-virtual {p0}, Lexpo/modules/imagepicker/ImagePickerModule;->getModuleRegistryPropertyDelegate()Lexpo/modules/imagepicker/ModuleRegistryPropertyDelegate;

    move-result-object p1

    .line 5
    new-instance p2, Lexpo/modules/imagepicker/ImagePickerModule$$special$$inlined$moduleRegistry$1;

    invoke-direct {p2, p1}, Lexpo/modules/imagepicker/ImagePickerModule$$special$$inlined$moduleRegistry$1;-><init>(Lexpo/modules/imagepicker/ModuleRegistryPropertyDelegate;)V

    invoke-static {p2}, Li/j;->b(Li/h0/c/a;)Li/h;

    move-result-object p1

    .line 6
    iput-object p1, p0, Lexpo/modules/imagepicker/ImagePickerModule;->mImageLoader$delegate:Li/h;

    .line 7
    invoke-virtual {p0}, Lexpo/modules/imagepicker/ImagePickerModule;->getModuleRegistryPropertyDelegate()Lexpo/modules/imagepicker/ModuleRegistryPropertyDelegate;

    move-result-object p1

    .line 8
    new-instance p2, Lexpo/modules/imagepicker/ImagePickerModule$$special$$inlined$moduleRegistry$2;

    invoke-direct {p2, p1}, Lexpo/modules/imagepicker/ImagePickerModule$$special$$inlined$moduleRegistry$2;-><init>(Lexpo/modules/imagepicker/ModuleRegistryPropertyDelegate;)V

    invoke-static {p2}, Li/j;->b(Li/h0/c/a;)Li/h;

    move-result-object p1

    .line 9
    iput-object p1, p0, Lexpo/modules/imagepicker/ImagePickerModule;->mUIManager$delegate:Li/h;

    .line 10
    invoke-virtual {p0}, Lexpo/modules/imagepicker/ImagePickerModule;->getModuleRegistryPropertyDelegate()Lexpo/modules/imagepicker/ModuleRegistryPropertyDelegate;

    move-result-object p1

    .line 11
    new-instance p2, Lexpo/modules/imagepicker/ImagePickerModule$$special$$inlined$moduleRegistry$3;

    invoke-direct {p2, p1}, Lexpo/modules/imagepicker/ImagePickerModule$$special$$inlined$moduleRegistry$3;-><init>(Lexpo/modules/imagepicker/ModuleRegistryPropertyDelegate;)V

    invoke-static {p2}, Li/j;->b(Li/h0/c/a;)Li/h;

    move-result-object p1

    .line 12
    iput-object p1, p0, Lexpo/modules/imagepicker/ImagePickerModule;->mPermissions$delegate:Li/h;

    .line 13
    invoke-virtual {p0}, Lexpo/modules/imagepicker/ImagePickerModule;->getModuleRegistryPropertyDelegate()Lexpo/modules/imagepicker/ModuleRegistryPropertyDelegate;

    move-result-object p1

    .line 14
    new-instance p2, Lexpo/modules/imagepicker/ImagePickerModule$$special$$inlined$moduleRegistry$4;

    invoke-direct {p2, p1}, Lexpo/modules/imagepicker/ImagePickerModule$$special$$inlined$moduleRegistry$4;-><init>(Lexpo/modules/imagepicker/ModuleRegistryPropertyDelegate;)V

    invoke-static {p2}, Li/j;->b(Li/h0/c/a;)Li/h;

    move-result-object p1

    .line 15
    iput-object p1, p0, Lexpo/modules/imagepicker/ImagePickerModule;->mActivityProvider$delegate:Li/h;

    return-void
.end method

.method public synthetic constructor <init>(Landroid/content/Context;Lexpo/modules/imagepicker/ModuleRegistryPropertyDelegate;Lexpo/modules/imagepicker/PickerResultsStore;ILi/h0/d/g;)V
    .locals 0

    and-int/lit8 p5, p4, 0x2

    if-eqz p5, :cond_0

    .line 1
    new-instance p2, Lexpo/modules/imagepicker/ModuleRegistryPropertyDelegate;

    invoke-direct {p2}, Lexpo/modules/imagepicker/ModuleRegistryPropertyDelegate;-><init>()V

    :cond_0
    and-int/lit8 p4, p4, 0x4

    if-eqz p4, :cond_1

    .line 2
    new-instance p3, Lexpo/modules/imagepicker/PickerResultsStore;

    invoke-direct {p3, p1}, Lexpo/modules/imagepicker/PickerResultsStore;-><init>(Landroid/content/Context;)V

    :cond_1
    invoke-direct {p0, p1, p2, p3}, Lexpo/modules/imagepicker/ImagePickerModule;-><init>(Landroid/content/Context;Lexpo/modules/imagepicker/ModuleRegistryPropertyDelegate;Lexpo/modules/imagepicker/PickerResultsStore;)V

    return-void
.end method

.method public static final synthetic access$get_experienceActivity$p(Lexpo/modules/imagepicker/ImagePickerModule;)Ljava/lang/ref/WeakReference;
    .locals 0

    .line 1
    iget-object p0, p0, Lexpo/modules/imagepicker/ImagePickerModule;->_experienceActivity:Ljava/lang/ref/WeakReference;

    if-eqz p0, :cond_0

    return-object p0

    :cond_0
    const-string p0, "_experienceActivity"

    invoke-static {p0}, Li/h0/d/k;->n(Ljava/lang/String;)V

    const/4 p0, 0x0

    throw p0
.end method

.method public static final synthetic access$launchCameraWithPermissionsGranted(Lexpo/modules/imagepicker/ImagePickerModule;Ll/d/b/h;Landroid/content/Intent;Lexpo/modules/imagepicker/ImagePickerOptions;)V
    .locals 0

    .line 1
    invoke-direct {p0, p1, p2, p3}, Lexpo/modules/imagepicker/ImagePickerModule;->launchCameraWithPermissionsGranted(Ll/d/b/h;Landroid/content/Intent;Lexpo/modules/imagepicker/ImagePickerOptions;)V

    return-void
.end method

.method public static final synthetic access$set_experienceActivity$p(Lexpo/modules/imagepicker/ImagePickerModule;Ljava/lang/ref/WeakReference;)V
    .locals 0

    .line 1
    iput-object p1, p0, Lexpo/modules/imagepicker/ImagePickerModule;->_experienceActivity:Ljava/lang/ref/WeakReference;

    return-void
.end method

.method private final getExperienceActivity()Landroid/app/Activity;
    .locals 2

    .line 1
    iget-object v0, p0, Lexpo/modules/imagepicker/ImagePickerModule;->_experienceActivity:Ljava/lang/ref/WeakReference;

    if-nez v0, :cond_0

    .line 2
    new-instance v0, Ljava/lang/ref/WeakReference;

    invoke-direct {p0}, Lexpo/modules/imagepicker/ImagePickerModule;->getMActivityProvider()Ll/d/b/l/b;

    move-result-object v1

    invoke-interface {v1}, Ll/d/b/l/b;->getCurrentActivity()Landroid/app/Activity;

    move-result-object v1

    invoke-direct {v0, v1}, Ljava/lang/ref/WeakReference;-><init>(Ljava/lang/Object;)V

    iput-object v0, p0, Lexpo/modules/imagepicker/ImagePickerModule;->_experienceActivity:Ljava/lang/ref/WeakReference;

    .line 3
    :cond_0
    iget-object v0, p0, Lexpo/modules/imagepicker/ImagePickerModule;->_experienceActivity:Ljava/lang/ref/WeakReference;

    if-eqz v0, :cond_1

    invoke-virtual {v0}, Ljava/lang/ref/WeakReference;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Landroid/app/Activity;

    return-object v0

    :cond_1
    const-string v0, "_experienceActivity"

    invoke-static {v0}, Li/h0/d/k;->n(Ljava/lang/String;)V

    const/4 v0, 0x0

    throw v0
.end method

.method private final getMActivityProvider()Ll/d/b/l/b;
    .locals 3

    iget-object v0, p0, Lexpo/modules/imagepicker/ImagePickerModule;->mActivityProvider$delegate:Li/h;

    sget-object v1, Lexpo/modules/imagepicker/ImagePickerModule;->$$delegatedProperties:[Li/k0/k;

    const/4 v2, 0x3

    aget-object v1, v1, v2

    invoke-interface {v0}, Li/h;->getValue()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Ll/d/b/l/b;

    return-object v0
.end method

.method private final getMImageLoader()Ll/d/c/g/a;
    .locals 3

    iget-object v0, p0, Lexpo/modules/imagepicker/ImagePickerModule;->mImageLoader$delegate:Li/h;

    sget-object v1, Lexpo/modules/imagepicker/ImagePickerModule;->$$delegatedProperties:[Li/k0/k;

    const/4 v2, 0x0

    aget-object v1, v1, v2

    invoke-interface {v0}, Li/h;->getValue()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Ll/d/c/g/a;

    return-object v0
.end method

.method private final getMPermissions()Ll/d/c/h/b;
    .locals 3

    iget-object v0, p0, Lexpo/modules/imagepicker/ImagePickerModule;->mPermissions$delegate:Li/h;

    sget-object v1, Lexpo/modules/imagepicker/ImagePickerModule;->$$delegatedProperties:[Li/k0/k;

    const/4 v2, 0x2

    aget-object v1, v1, v2

    invoke-interface {v0}, Li/h;->getValue()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Ll/d/c/h/b;

    return-object v0
.end method

.method private final getMUIManager()Ll/d/b/l/r/c;
    .locals 3

    iget-object v0, p0, Lexpo/modules/imagepicker/ImagePickerModule;->mUIManager$delegate:Li/h;

    sget-object v1, Lexpo/modules/imagepicker/ImagePickerModule;->$$delegatedProperties:[Li/k0/k;

    const/4 v2, 0x1

    aget-object v1, v1, v2

    invoke-interface {v0}, Li/h;->getValue()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Ll/d/b/l/r/c;

    return-object v0
.end method

.method private final getMediaLibraryPermissions(Z)[Ljava/lang/String;
    .locals 1

    const-string v0, "android.permission.WRITE_EXTERNAL_STORAGE"

    if-eqz p1, :cond_0

    .line 1
    filled-new-array {v0}, [Ljava/lang/String;

    move-result-object p1

    goto :goto_0

    :cond_0
    const-string p1, "android.permission.READ_EXTERNAL_STORAGE"

    .line 2
    filled-new-array {v0, p1}, [Ljava/lang/String;

    move-result-object p1

    :goto_0
    return-object p1
.end method

.method private final handleOnActivityResult(Ll/d/b/h;Landroid/app/Activity;IILandroid/content/Intent;Lexpo/modules/imagepicker/ImagePickerOptions;)V
    .locals 16

    move-object/from16 v7, p0

    move-object/from16 v9, p1

    move/from16 v0, p3

    const/4 v1, 0x1

    const/4 v2, -0x1

    move/from16 v3, p4

    if-eq v3, v2, :cond_0

    .line 1
    new-instance v0, Landroid/os/Bundle;

    invoke-direct {v0}, Landroid/os/Bundle;-><init>()V

    const-string v2, "cancelled"

    .line 2
    invoke-virtual {v0, v2, v1}, Landroid/os/Bundle;->putBoolean(Ljava/lang/String;Z)V

    .line 3
    invoke-interface {v9, v0}, Ll/d/b/h;->resolve(Ljava/lang/Object;)V

    return-void

    .line 4
    :cond_0
    invoke-virtual/range {p2 .. p2}, Landroid/app/Activity;->getApplication()Landroid/app/Application;

    move-result-object v2

    const-string v3, "activity.application"

    invoke-static {v2, v3}, Li/h0/d/k;->b(Ljava/lang/Object;Ljava/lang/String;)V

    invoke-virtual {v2}, Landroid/app/Application;->getContentResolver()Landroid/content/ContentResolver;

    move-result-object v4

    const/16 v2, 0xcb

    const-string v3, "contentResolver"

    const/4 v15, 0x0

    if-ne v0, v2, :cond_1

    .line 5
    invoke-static/range {p5 .. p5}, Lcom/theartofdev/edmodo/cropper/d;->b(Landroid/content/Intent;)Lcom/theartofdev/edmodo/cropper/d$c;

    move-result-object v0

    .line 6
    new-instance v14, Lexpo/modules/imagepicker/exporters/CropImageExporter;

    const-string v1, "result"

    invoke-static {v0, v1}, Li/h0/d/k;->b(Ljava/lang/Object;Ljava/lang/String;)V

    invoke-virtual {v0}, Lcom/theartofdev/edmodo/cropper/CropImageView$b;->e()I

    move-result v1

    invoke-virtual {v0}, Lcom/theartofdev/edmodo/cropper/CropImageView$b;->b()Landroid/graphics/Rect;

    move-result-object v2

    const-string v5, "result.cropRect"

    invoke-static {v2, v5}, Li/h0/d/k;->b(Ljava/lang/Object;Ljava/lang/String;)V

    invoke-virtual/range {p6 .. p6}, Lexpo/modules/imagepicker/ImagePickerOptions;->isBase64()Z

    move-result v5

    invoke-direct {v14, v1, v2, v5}, Lexpo/modules/imagepicker/exporters/CropImageExporter;-><init>(ILandroid/graphics/Rect;Z)V

    .line 7
    new-instance v1, Lexpo/modules/imagepicker/tasks/ImageResultTask;

    invoke-virtual {v0}, Lcom/theartofdev/edmodo/cropper/CropImageView$b;->g()Landroid/net/Uri;

    move-result-object v10

    const-string v2, "result.uri"

    invoke-static {v10, v2}, Li/h0/d/k;->b(Ljava/lang/Object;Ljava/lang/String;)V

    invoke-static {v4, v3}, Li/h0/d/k;->b(Ljava/lang/Object;Ljava/lang/String;)V

    new-instance v12, Lexpo/modules/imagepicker/fileproviders/CropFileProvider;

    invoke-virtual {v0}, Lcom/theartofdev/edmodo/cropper/CropImageView$b;->g()Landroid/net/Uri;

    move-result-object v0

    invoke-static {v0, v2}, Li/h0/d/k;->b(Ljava/lang/Object;Ljava/lang/String;)V

    invoke-direct {v12, v0}, Lexpo/modules/imagepicker/fileproviders/CropFileProvider;-><init>(Landroid/net/Uri;)V

    invoke-virtual/range {p6 .. p6}, Lexpo/modules/imagepicker/ImagePickerOptions;->isExif()Z

    move-result v13

    move-object v8, v1

    move-object/from16 v9, p1

    move-object v11, v4

    invoke-direct/range {v8 .. v14}, Lexpo/modules/imagepicker/tasks/ImageResultTask;-><init>(Ll/d/b/h;Landroid/net/Uri;Landroid/content/ContentResolver;Lexpo/modules/imagepicker/fileproviders/FileProvider;ZLexpo/modules/imagepicker/exporters/ImageExporter;)V

    new-array v0, v15, [Ljava/lang/Void;

    invoke-virtual {v1, v0}, Landroid/os/AsyncTask;->execute([Ljava/lang/Object;)Landroid/os/AsyncTask;

    return-void

    :cond_1
    const/4 v2, 0x0

    if-ne v0, v1, :cond_2

    .line 8
    iget-object v5, v7, Lexpo/modules/imagepicker/ImagePickerModule;->mCameraCaptureURI:Landroid/net/Uri;

    goto :goto_0

    :cond_2
    if-eqz p5, :cond_3

    invoke-virtual/range {p5 .. p5}, Landroid/content/Intent;->getData()Landroid/net/Uri;

    move-result-object v5

    goto :goto_0

    :cond_3
    move-object v5, v2

    :goto_0
    if-nez v5, :cond_4

    const-string v0, "ERR_MISSING_URL"

    const-string v1, "Intent doesn\'t contain `url`."

    .line 9
    invoke-interface {v9, v0, v1}, Ll/d/b/h;->reject(Ljava/lang/String;Ljava/lang/String;)V

    return-void

    .line 10
    :cond_4
    invoke-static {v4, v3}, Li/h0/d/k;->b(Ljava/lang/Object;Ljava/lang/String;)V

    invoke-static {v4, v5}, Lexpo/modules/imagepicker/ImagePickerUtilsKt;->getType(Landroid/content/ContentResolver;Landroid/net/Uri;)Ljava/lang/String;

    move-result-object v6

    if-nez v6, :cond_5

    const-string v0, "ERR_CAN_NOT_DEDUCE_TYPE"

    const-string v1, "Can not deduce type of the returned file."

    .line 11
    invoke-interface {v9, v0, v1}, Ll/d/b/h;->reject(Ljava/lang/String;Ljava/lang/String;)V

    return-void

    :cond_5
    const/4 v3, 0x2

    const-string v8, "image"

    .line 12
    invoke-static {v6, v8, v15, v3, v2}, Li/m0/j;->C(Ljava/lang/CharSequence;Ljava/lang/CharSequence;ZILjava/lang/Object;)Z

    move-result v2

    const-string v3, "mContext.cacheDir"

    if-eqz v2, :cond_9

    .line 13
    invoke-virtual/range {p6 .. p6}, Lexpo/modules/imagepicker/ImagePickerOptions;->isAllowsEditing()Z

    move-result v2

    if-eqz v2, :cond_7

    if-eq v0, v1, :cond_6

    const/4 v15, 0x1

    :cond_6
    move-object/from16 v1, p0

    move-object/from16 v2, p1

    move-object v3, v5

    move-object v4, v6

    move v5, v15

    move-object/from16 v6, p6

    .line 14
    invoke-direct/range {v1 .. v6}, Lexpo/modules/imagepicker/ImagePickerModule;->startCropIntent(Ll/d/b/h;Landroid/net/Uri;Ljava/lang/String;ZLexpo/modules/imagepicker/ImagePickerOptions;)V

    return-void

    .line 15
    :cond_7
    invoke-virtual/range {p6 .. p6}, Lexpo/modules/imagepicker/ImagePickerOptions;->getQuality()I

    move-result v0

    const/16 v1, 0x64

    if-ne v0, v1, :cond_8

    .line 16
    new-instance v0, Lexpo/modules/imagepicker/exporters/RawImageExporter;

    invoke-virtual/range {p6 .. p6}, Lexpo/modules/imagepicker/ImagePickerOptions;->isBase64()Z

    move-result v1

    invoke-direct {v0, v4, v1}, Lexpo/modules/imagepicker/exporters/RawImageExporter;-><init>(Landroid/content/ContentResolver;Z)V

    goto :goto_1

    .line 17
    :cond_8
    new-instance v0, Lexpo/modules/imagepicker/exporters/CompressionImageExporter;

    invoke-direct/range {p0 .. p0}, Lexpo/modules/imagepicker/ImagePickerModule;->getMImageLoader()Ll/d/c/g/a;

    move-result-object v1

    invoke-virtual/range {p6 .. p6}, Lexpo/modules/imagepicker/ImagePickerOptions;->getQuality()I

    move-result v2

    invoke-virtual/range {p6 .. p6}, Lexpo/modules/imagepicker/ImagePickerOptions;->isBase64()Z

    move-result v8

    invoke-direct {v0, v1, v2, v8}, Lexpo/modules/imagepicker/exporters/CompressionImageExporter;-><init>(Ll/d/c/g/a;IZ)V

    :goto_1
    move-object v14, v0

    .line 18
    new-instance v0, Lexpo/modules/imagepicker/tasks/ImageResultTask;

    new-instance v12, Lexpo/modules/imagepicker/fileproviders/CacheFileProvider;

    iget-object v1, v7, Lexpo/modules/imagepicker/ImagePickerModule;->mContext:Landroid/content/Context;

    invoke-virtual {v1}, Landroid/content/Context;->getCacheDir()Ljava/io/File;

    move-result-object v1

    invoke-static {v1, v3}, Li/h0/d/k;->b(Ljava/lang/Object;Ljava/lang/String;)V

    invoke-static {v6}, Lexpo/modules/imagepicker/ImagePickerUtilsKt;->deduceExtension(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v2

    invoke-direct {v12, v1, v2}, Lexpo/modules/imagepicker/fileproviders/CacheFileProvider;-><init>(Ljava/io/File;Ljava/lang/String;)V

    invoke-virtual/range {p6 .. p6}, Lexpo/modules/imagepicker/ImagePickerOptions;->isExif()Z

    move-result v13

    move-object v8, v0

    move-object/from16 v9, p1

    move-object v10, v5

    move-object v11, v4

    invoke-direct/range {v8 .. v14}, Lexpo/modules/imagepicker/tasks/ImageResultTask;-><init>(Ll/d/b/h;Landroid/net/Uri;Landroid/content/ContentResolver;Lexpo/modules/imagepicker/fileproviders/FileProvider;ZLexpo/modules/imagepicker/exporters/ImageExporter;)V

    new-array v1, v15, [Ljava/lang/Void;

    invoke-virtual {v0, v1}, Landroid/os/AsyncTask;->execute([Ljava/lang/Object;)Landroid/os/AsyncTask;

    return-void

    .line 19
    :cond_9
    :try_start_0
    new-instance v6, Landroid/media/MediaMetadataRetriever;

    invoke-direct {v6}, Landroid/media/MediaMetadataRetriever;-><init>()V

    .line 20
    iget-object v0, v7, Lexpo/modules/imagepicker/ImagePickerModule;->mContext:Landroid/content/Context;

    invoke-virtual {v6, v0, v5}, Landroid/media/MediaMetadataRetriever;->setDataSource(Landroid/content/Context;Landroid/net/Uri;)V

    .line 21
    new-instance v0, Lexpo/modules/imagepicker/tasks/VideoResultTask;

    new-instance v8, Lexpo/modules/imagepicker/fileproviders/CacheFileProvider;

    iget-object v1, v7, Lexpo/modules/imagepicker/ImagePickerModule;->mContext:Landroid/content/Context;

    invoke-virtual {v1}, Landroid/content/Context;->getCacheDir()Ljava/io/File;

    move-result-object v1

    invoke-static {v1, v3}, Li/h0/d/k;->b(Ljava/lang/Object;Ljava/lang/String;)V

    const-string v2, ".mp4"

    invoke-direct {v8, v1, v2}, Lexpo/modules/imagepicker/fileproviders/CacheFileProvider;-><init>(Ljava/io/File;Ljava/lang/String;)V

    move-object v1, v0

    move-object/from16 v2, p1

    move-object v3, v5

    move-object v5, v8

    invoke-direct/range {v1 .. v6}, Lexpo/modules/imagepicker/tasks/VideoResultTask;-><init>(Ll/d/b/h;Landroid/net/Uri;Landroid/content/ContentResolver;Lexpo/modules/imagepicker/fileproviders/FileProvider;Landroid/media/MediaMetadataRetriever;)V

    new-array v1, v15, [Ljava/lang/Void;

    invoke-virtual {v0, v1}, Landroid/os/AsyncTask;->execute([Ljava/lang/Object;)Landroid/os/AsyncTask;
    :try_end_0
    .catch Ljava/lang/RuntimeException; {:try_start_0 .. :try_end_0} :catch_0

    return-void

    :catch_0
    move-exception v0

    .line 22
    invoke-virtual {v0}, Ljava/lang/RuntimeException;->printStackTrace()V

    const-string v1, "ERR_CAN_NOT_EXTRACT_METADATA"

    const-string v2, "Can not extract metadata."

    .line 23
    invoke-interface {v9, v1, v2, v0}, Ll/d/b/h;->reject(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    return-void
.end method

.method private final launchCameraWithPermissionsGranted(Ll/d/b/h;Landroid/content/Intent;Lexpo/modules/imagepicker/ImagePickerOptions;)V
    .locals 4

    .line 1
    iget-object v0, p0, Lexpo/modules/imagepicker/ImagePickerModule;->mContext:Landroid/content/Context;

    invoke-virtual {v0}, Landroid/content/Context;->getCacheDir()Ljava/io/File;

    move-result-object v0

    const-string v1, "mContext.cacheDir"

    invoke-static {v0, v1}, Li/h0/d/k;->b(Ljava/lang/Object;Ljava/lang/String;)V

    .line 2
    invoke-virtual {p3}, Lexpo/modules/imagepicker/ImagePickerOptions;->getMediaTypes()Lexpo/modules/imagepicker/MediaTypes;

    move-result-object v1

    sget-object v2, Lexpo/modules/imagepicker/MediaTypes;->VIDEOS:Lexpo/modules/imagepicker/MediaTypes;

    if-ne v1, v2, :cond_0

    const-string v1, ".mp4"

    goto :goto_0

    :cond_0
    const-string v1, ".jpg"

    .line 3
    :goto_0
    invoke-static {v0, v1}, Lexpo/modules/imagepicker/ImagePickerUtilsKt;->createOutputFile(Ljava/io/File;Ljava/lang/String;)Ljava/io/File;

    move-result-object v0

    if-nez v0, :cond_1

    .line 4
    new-instance p2, Ljava/io/IOException;

    const-string p3, "Could not create image file."

    invoke-direct {p2, p3}, Ljava/io/IOException;-><init>(Ljava/lang/String;)V

    invoke-interface {p1, p2}, Ll/d/b/h;->reject(Ljava/lang/Throwable;)V

    return-void

    .line 5
    :cond_1
    invoke-static {v0}, Lexpo/modules/imagepicker/ImagePickerUtilsKt;->uriFromFile(Ljava/io/File;)Landroid/net/Uri;

    move-result-object v1

    iput-object v1, p0, Lexpo/modules/imagepicker/ImagePickerModule;->mCameraCaptureURI:Landroid/net/Uri;

    .line 6
    invoke-direct {p0}, Lexpo/modules/imagepicker/ImagePickerModule;->getExperienceActivity()Landroid/app/Activity;

    move-result-object v1

    if-nez v1, :cond_2

    const-string p2, "ERR_MISSING_ACTIVITY"

    const-string p3, "Activity which was provided during module initialization is no longer available"

    .line 7
    invoke-interface {p1, p2, p3}, Ll/d/b/h;->reject(Ljava/lang/String;Ljava/lang/String;)V

    return-void

    .line 8
    :cond_2
    iput-object p1, p0, Lexpo/modules/imagepicker/ImagePickerModule;->mPromise:Ll/d/b/h;

    .line 9
    iput-object p3, p0, Lexpo/modules/imagepicker/ImagePickerModule;->mPickerOptions:Lexpo/modules/imagepicker/ImagePickerOptions;

    .line 10
    invoke-virtual {p3}, Lexpo/modules/imagepicker/ImagePickerOptions;->getVideoMaxDuration()I

    move-result v2

    if-lez v2, :cond_3

    .line 11
    invoke-virtual {p3}, Lexpo/modules/imagepicker/ImagePickerOptions;->getVideoMaxDuration()I

    move-result v2

    const-string v3, "android.intent.extra.durationLimit"

    invoke-virtual {p2, v3, v2}, Landroid/content/Intent;->putExtra(Ljava/lang/String;I)Landroid/content/Intent;

    .line 12
    :cond_3
    invoke-virtual {v1}, Landroid/app/Activity;->getApplication()Landroid/app/Application;

    move-result-object v1

    const-string v2, "activity.application"

    invoke-static {v1, v2}, Li/h0/d/k;->b(Ljava/lang/Object;Ljava/lang/String;)V

    invoke-static {v0, v1}, Lexpo/modules/imagepicker/ImagePickerUtilsKt;->contentUriFromFile(Ljava/io/File;Landroid/app/Application;)Landroid/net/Uri;

    move-result-object v0

    const-string v1, "output"

    invoke-virtual {p2, v1, v0}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Landroid/os/Parcelable;)Landroid/content/Intent;

    const/4 v0, 0x1

    .line 13
    invoke-direct {p0, p2, v0, p1, p3}, Lexpo/modules/imagepicker/ImagePickerModule;->startActivityOnResult(Landroid/content/Intent;ILl/d/b/h;Lexpo/modules/imagepicker/ImagePickerOptions;)V

    return-void
.end method

.method private final shouldHandleOnActivityResult(Landroid/app/Activity;I)Z
    .locals 1

    .line 1
    invoke-direct {p0}, Lexpo/modules/imagepicker/ImagePickerModule;->getExperienceActivity()Landroid/app/Activity;

    move-result-object v0

    if-eqz v0, :cond_1

    iget-object v0, p0, Lexpo/modules/imagepicker/ImagePickerModule;->mPromise:Ll/d/b/h;

    if-eqz v0, :cond_1

    iget-object v0, p0, Lexpo/modules/imagepicker/ImagePickerModule;->mPickerOptions:Lexpo/modules/imagepicker/ImagePickerOptions;

    if-eqz v0, :cond_1

    invoke-direct {p0}, Lexpo/modules/imagepicker/ImagePickerModule;->getExperienceActivity()Landroid/app/Activity;

    move-result-object v0

    if-eq p1, v0, :cond_0

    iget-boolean p1, p0, Lexpo/modules/imagepicker/ImagePickerModule;->mWasDestroyed:Z

    if-eqz p1, :cond_1

    const/16 p1, 0xcb

    if-ne p2, p1, :cond_1

    :cond_0
    const/4 p1, 0x1

    goto :goto_0

    :cond_1
    const/4 p1, 0x0

    :goto_0
    return p1
.end method

.method private final startActivityOnResult(Landroid/content/Intent;ILl/d/b/h;Lexpo/modules/imagepicker/ImagePickerOptions;)V
    .locals 2

    .line 1
    invoke-direct {p0}, Lexpo/modules/imagepicker/ImagePickerModule;->getExperienceActivity()Landroid/app/Activity;

    move-result-object v0

    if-nez v0, :cond_0

    const-string p1, "ERR_MISSING_ACTIVITY"

    const-string p2, "Activity which was provided during module initialization is no longer available"

    .line 2
    invoke-interface {p3, p1, p2}, Ll/d/b/h;->reject(Ljava/lang/String;Ljava/lang/String;)V

    return-void

    .line 3
    :cond_0
    invoke-direct {p0}, Lexpo/modules/imagepicker/ImagePickerModule;->getMUIManager()Ll/d/b/l/r/c;

    move-result-object v1

    invoke-interface {v1, p0}, Ll/d/b/l/r/c;->registerActivityEventListener(Ll/d/b/l/a;)V

    .line 4
    iput-object p3, p0, Lexpo/modules/imagepicker/ImagePickerModule;->mPromise:Ll/d/b/h;

    .line 5
    iput-object p4, p0, Lexpo/modules/imagepicker/ImagePickerModule;->mPickerOptions:Lexpo/modules/imagepicker/ImagePickerOptions;

    .line 6
    invoke-virtual {v0, p1, p2}, Landroid/app/Activity;->startActivityForResult(Landroid/content/Intent;I)V

    return-void
.end method

.method private final startCropIntent(Ll/d/b/h;Landroid/net/Uri;Ljava/lang/String;ZLexpo/modules/imagepicker/ImagePickerOptions;)V
    .locals 7

    .line 1
    sget-object v0, Landroid/graphics/Bitmap$CompressFormat;->JPEG:Landroid/graphics/Bitmap$CompressFormat;

    const-string v1, "png"

    const/4 v2, 0x0

    const/4 v3, 0x2

    const/4 v4, 0x0

    .line 2
    invoke-static {p3, v1, v2, v3, v4}, Li/m0/j;->C(Ljava/lang/CharSequence;Ljava/lang/CharSequence;ZILjava/lang/Object;)Z

    move-result v1

    const-string v5, ".jpg"

    const-string v6, ".png"

    if-eqz v1, :cond_0

    .line 3
    sget-object v0, Landroid/graphics/Bitmap$CompressFormat;->PNG:Landroid/graphics/Bitmap$CompressFormat;

    :goto_0
    move-object v5, v6

    goto :goto_1

    :cond_0
    const-string v1, "gif"

    .line 4
    invoke-static {p3, v1, v2, v3, v4}, Li/m0/j;->C(Ljava/lang/CharSequence;Ljava/lang/CharSequence;ZILjava/lang/Object;)Z

    move-result v1

    if-eqz v1, :cond_1

    .line 5
    sget-object v0, Landroid/graphics/Bitmap$CompressFormat;->PNG:Landroid/graphics/Bitmap$CompressFormat;

    goto :goto_0

    :cond_1
    const-string v1, "bmp"

    .line 6
    invoke-static {p3, v1, v2, v3, v4}, Li/m0/j;->C(Ljava/lang/CharSequence;Ljava/lang/CharSequence;ZILjava/lang/Object;)Z

    move-result v1

    if-eqz v1, :cond_2

    .line 7
    sget-object v0, Landroid/graphics/Bitmap$CompressFormat;->PNG:Landroid/graphics/Bitmap$CompressFormat;

    goto :goto_0

    :cond_2
    const-string v1, "jpeg"

    .line 8
    invoke-static {p3, v1, v2, v3, v4}, Li/m0/j;->C(Ljava/lang/CharSequence;Ljava/lang/CharSequence;ZILjava/lang/Object;)Z

    move-result p3

    if-nez p3, :cond_3

    const-string p3, "ExponentImagePicker"

    const-string v1, "Image type not supported. Falling back to JPEG instead."

    .line 9
    invoke-static {p3, v1}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I

    :cond_3
    :goto_1
    if-eqz p4, :cond_4

    .line 10
    :try_start_0
    iget-object p3, p0, Lexpo/modules/imagepicker/ImagePickerModule;->mContext:Landroid/content/Context;

    invoke-virtual {p3}, Landroid/content/Context;->getCacheDir()Ljava/io/File;

    move-result-object p3

    const-string p4, "ImagePicker"

    invoke-static {p3, p4, v5}, Ll/d/b/m/a;->b(Ljava/io/File;Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object p3

    const-string p4, "generateOutputPath(mCont\u2026ACHE_DIR_NAME, extension)"

    invoke-static {p3, p4}, Li/h0/d/k;->b(Ljava/lang/Object;Ljava/lang/String;)V

    invoke-static {p3}, Lexpo/modules/imagepicker/ImagePickerUtilsKt;->uriFromFilePath(Ljava/lang/String;)Landroid/net/Uri;

    move-result-object p3
    :try_end_0
    .catch Ljava/io/IOException; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_2

    :catch_0
    move-exception p2

    const-string p3, "ERR_CAN_NOT_OPEN_CROP"

    const-string p4, "Can not open the crop tool."

    .line 11
    invoke-interface {p1, p3, p4, p2}, Ll/d/b/h;->reject(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    return-void

    :cond_4
    move-object p3, p2

    .line 12
    :goto_2
    invoke-static {p2}, Lcom/theartofdev/edmodo/cropper/d;->a(Landroid/net/Uri;)Lcom/theartofdev/edmodo/cropper/d$b;

    move-result-object p2

    .line 13
    invoke-virtual {p5}, Lexpo/modules/imagepicker/ImagePickerOptions;->getForceAspect()Ljava/util/List;

    move-result-object p4

    if-eqz p4, :cond_7

    invoke-interface {p4, v2}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v1

    const/4 v2, 0x1

    invoke-interface {p4, v2}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object p4

    const-string v3, "null cannot be cast to non-null type kotlin.Number"

    if-eqz v1, :cond_6

    .line 14
    check-cast v1, Ljava/lang/Number;

    invoke-virtual {v1}, Ljava/lang/Number;->intValue()I

    move-result v1

    if-eqz p4, :cond_5

    check-cast p4, Ljava/lang/Number;

    invoke-virtual {p4}, Ljava/lang/Number;->intValue()I

    move-result p4

    invoke-virtual {p2, v1, p4}, Lcom/theartofdev/edmodo/cropper/d$b;->c(II)Lcom/theartofdev/edmodo/cropper/d$b;

    .line 15
    invoke-virtual {p2, v2}, Lcom/theartofdev/edmodo/cropper/d$b;->d(Z)Lcom/theartofdev/edmodo/cropper/d$b;

    const/4 p4, 0x0

    .line 16
    invoke-virtual {p2, p4}, Lcom/theartofdev/edmodo/cropper/d$b;->e(F)Lcom/theartofdev/edmodo/cropper/d$b;

    goto :goto_3

    .line 17
    :cond_5
    new-instance p1, Li/v;

    invoke-direct {p1, v3}, Li/v;-><init>(Ljava/lang/String;)V

    throw p1

    :cond_6
    new-instance p1, Li/v;

    invoke-direct {p1, v3}, Li/v;-><init>(Ljava/lang/String;)V

    throw p1

    .line 18
    :cond_7
    :goto_3
    invoke-virtual {p2, p3}, Lcom/theartofdev/edmodo/cropper/d$b;->h(Landroid/net/Uri;)Lcom/theartofdev/edmodo/cropper/d$b;

    .line 19
    invoke-virtual {p2, v0}, Lcom/theartofdev/edmodo/cropper/d$b;->f(Landroid/graphics/Bitmap$CompressFormat;)Lcom/theartofdev/edmodo/cropper/d$b;

    .line 20
    invoke-virtual {p5}, Lexpo/modules/imagepicker/ImagePickerOptions;->getQuality()I

    move-result p3

    invoke-virtual {p2, p3}, Lcom/theartofdev/edmodo/cropper/d$b;->g(I)Lcom/theartofdev/edmodo/cropper/d$b;

    .line 21
    invoke-virtual {p0}, Ll/d/b/c;->getContext()Landroid/content/Context;

    move-result-object p3

    invoke-virtual {p2, p3}, Lcom/theartofdev/edmodo/cropper/d$b;->a(Landroid/content/Context;)Landroid/content/Intent;

    move-result-object p2

    const-string p3, "cropImageBuilder.getIntent(context)"

    invoke-static {p2, p3}, Li/h0/d/k;->b(Ljava/lang/Object;Ljava/lang/String;)V

    const/16 p3, 0xcb

    invoke-direct {p0, p2, p3, p1, p5}, Lexpo/modules/imagepicker/ImagePickerModule;->startActivityOnResult(Landroid/content/Intent;ILl/d/b/h;Lexpo/modules/imagepicker/ImagePickerOptions;)V

    return-void
.end method


# virtual methods
.method public final getCameraPermissionsAsync(Ll/d/b/h;)V
    .locals 2
    .annotation runtime Ll/d/b/l/f;
    .end annotation

    const-string v0, "promise"

    invoke-static {p1, v0}, Li/h0/d/k;->c(Ljava/lang/Object;Ljava/lang/String;)V

    .line 1
    invoke-direct {p0}, Lexpo/modules/imagepicker/ImagePickerModule;->getMPermissions()Ll/d/c/h/b;

    move-result-object v0

    const-string v1, "android.permission.CAMERA"

    filled-new-array {v1}, [Ljava/lang/String;

    move-result-object v1

    invoke-static {v0, p1, v1}, Ll/d/c/h/a;->b(Ll/d/c/h/b;Ll/d/b/h;[Ljava/lang/String;)V

    return-void
.end method

.method public final getMediaLibraryPermissionsAsync(ZLl/d/b/h;)V
    .locals 2
    .annotation runtime Ll/d/b/l/f;
    .end annotation

    const-string v0, "promise"

    invoke-static {p2, v0}, Li/h0/d/k;->c(Ljava/lang/Object;Ljava/lang/String;)V

    .line 1
    invoke-direct {p0}, Lexpo/modules/imagepicker/ImagePickerModule;->getMPermissions()Ll/d/c/h/b;

    move-result-object v0

    invoke-direct {p0, p1}, Lexpo/modules/imagepicker/ImagePickerModule;->getMediaLibraryPermissions(Z)[Ljava/lang/String;

    move-result-object p1

    array-length v1, p1

    invoke-static {p1, v1}, Ljava/util/Arrays;->copyOf([Ljava/lang/Object;I)[Ljava/lang/Object;

    move-result-object p1

    check-cast p1, [Ljava/lang/String;

    invoke-static {v0, p2, p1}, Ll/d/c/h/a;->b(Ll/d/c/h/b;Ll/d/b/h;[Ljava/lang/String;)V

    return-void
.end method

.method public final getModuleRegistryPropertyDelegate()Lexpo/modules/imagepicker/ModuleRegistryPropertyDelegate;
    .locals 1

    .line 1
    iget-object v0, p0, Lexpo/modules/imagepicker/ImagePickerModule;->moduleRegistryPropertyDelegate:Lexpo/modules/imagepicker/ModuleRegistryPropertyDelegate;

    return-object v0
.end method

.method public getName()Ljava/lang/String;
    .locals 1

    const-string v0, "ExponentImagePicker"

    return-object v0
.end method

.method public final getPendingResultAsync(Ll/d/b/h;)V
    .locals 1
    .annotation runtime Ll/d/b/l/f;
    .end annotation

    const-string v0, "promise"

    invoke-static {p1, v0}, Li/h0/d/k;->c(Ljava/lang/Object;Ljava/lang/String;)V

    .line 1
    iget-object v0, p0, Lexpo/modules/imagepicker/ImagePickerModule;->pickerResultStore:Lexpo/modules/imagepicker/PickerResultsStore;

    invoke-virtual {v0}, Lexpo/modules/imagepicker/PickerResultsStore;->getAllPendingResults()Ljava/util/List;

    move-result-object v0

    invoke-interface {p1, v0}, Ll/d/b/h;->resolve(Ljava/lang/Object;)V

    return-void
.end method

.method public final launchCameraAsync(Ljava/util/Map;Ll/d/b/h;)V
    .locals 3
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Ljava/util/Map<",
            "Ljava/lang/String;",
            "+",
            "Ljava/lang/Object;",
            ">;",
            "Ll/d/b/h;",
            ")V"
        }
    .end annotation

    .annotation runtime Ll/d/b/l/f;
    .end annotation

    const-string v0, "options"

    invoke-static {p1, v0}, Li/h0/d/k;->c(Ljava/lang/Object;Ljava/lang/String;)V

    const-string v0, "promise"

    invoke-static {p2, v0}, Li/h0/d/k;->c(Ljava/lang/Object;Ljava/lang/String;)V

    .line 1
    sget-object v0, Lexpo/modules/imagepicker/ImagePickerOptions;->Companion:Lexpo/modules/imagepicker/ImagePickerOptions$Companion;

    invoke-virtual {v0, p1, p2}, Lexpo/modules/imagepicker/ImagePickerOptions$Companion;->optionsFromMap(Ljava/util/Map;Ll/d/b/h;)Lexpo/modules/imagepicker/ImagePickerOptions;

    move-result-object p1

    if-eqz p1, :cond_3

    .line 2
    invoke-direct {p0}, Lexpo/modules/imagepicker/ImagePickerModule;->getExperienceActivity()Landroid/app/Activity;

    move-result-object v0

    if-nez v0, :cond_0

    const-string p1, "ERR_MISSING_ACTIVITY"

    const-string v0, "Activity which was provided during module initialization is no longer available"

    .line 3
    invoke-interface {p2, p1, v0}, Ll/d/b/h;->reject(Ljava/lang/String;Ljava/lang/String;)V

    return-void

    .line 4
    :cond_0
    invoke-virtual {p1}, Lexpo/modules/imagepicker/ImagePickerOptions;->getMediaTypes()Lexpo/modules/imagepicker/MediaTypes;

    move-result-object v1

    sget-object v2, Lexpo/modules/imagepicker/MediaTypes;->VIDEOS:Lexpo/modules/imagepicker/MediaTypes;

    if-ne v1, v2, :cond_1

    const-string v1, "android.media.action.VIDEO_CAPTURE"

    goto :goto_0

    :cond_1
    const-string v1, "android.media.action.IMAGE_CAPTURE"

    .line 5
    :goto_0
    new-instance v2, Landroid/content/Intent;

    invoke-direct {v2, v1}, Landroid/content/Intent;-><init>(Ljava/lang/String;)V

    .line 6
    invoke-virtual {v0}, Landroid/app/Activity;->getApplication()Landroid/app/Application;

    move-result-object v0

    const-string v1, "activity.application"

    invoke-static {v0, v1}, Li/h0/d/k;->b(Ljava/lang/Object;Ljava/lang/String;)V

    invoke-virtual {v0}, Landroid/app/Application;->getPackageManager()Landroid/content/pm/PackageManager;

    move-result-object v0

    invoke-virtual {v2, v0}, Landroid/content/Intent;->resolveActivity(Landroid/content/pm/PackageManager;)Landroid/content/ComponentName;

    move-result-object v0

    if-nez v0, :cond_2

    .line 7
    new-instance p1, Ljava/lang/IllegalStateException;

    const-string v0, "Error resolving activity"

    invoke-direct {p1, v0}, Ljava/lang/IllegalStateException;-><init>(Ljava/lang/String;)V

    invoke-interface {p2, p1}, Ll/d/b/h;->reject(Ljava/lang/Throwable;)V

    return-void

    .line 8
    :cond_2
    new-instance v0, Lexpo/modules/imagepicker/ImagePickerModule$launchCameraAsync$permissionsResponseHandler$1;

    invoke-direct {v0, p0, p2, v2, p1}, Lexpo/modules/imagepicker/ImagePickerModule$launchCameraAsync$permissionsResponseHandler$1;-><init>(Lexpo/modules/imagepicker/ImagePickerModule;Ll/d/b/h;Landroid/content/Intent;Lexpo/modules/imagepicker/ImagePickerOptions;)V

    .line 9
    invoke-direct {p0}, Lexpo/modules/imagepicker/ImagePickerModule;->getMPermissions()Ll/d/c/h/b;

    move-result-object p1

    const-string p2, "android.permission.WRITE_EXTERNAL_STORAGE"

    const-string v1, "android.permission.CAMERA"

    filled-new-array {p2, v1}, [Ljava/lang/String;

    move-result-object p2

    invoke-interface {p1, v0, p2}, Ll/d/c/h/b;->askForPermissions(Ll/d/c/h/d;[Ljava/lang/String;)V

    :cond_3
    return-void
.end method

.method public final launchImageLibraryAsync(Ljava/util/Map;Ll/d/b/h;)V
    .locals 6
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Ljava/util/Map<",
            "Ljava/lang/String;",
            "+",
            "Ljava/lang/Object;",
            ">;",
            "Ll/d/b/h;",
            ")V"
        }
    .end annotation

    .annotation runtime Ll/d/b/l/f;
    .end annotation

    const-string v0, "options"

    invoke-static {p1, v0}, Li/h0/d/k;->c(Ljava/lang/Object;Ljava/lang/String;)V

    const-string v0, "promise"

    invoke-static {p2, v0}, Li/h0/d/k;->c(Ljava/lang/Object;Ljava/lang/String;)V

    .line 1
    sget-object v0, Lexpo/modules/imagepicker/ImagePickerOptions;->Companion:Lexpo/modules/imagepicker/ImagePickerOptions$Companion;

    invoke-virtual {v0, p1, p2}, Lexpo/modules/imagepicker/ImagePickerOptions$Companion;->optionsFromMap(Ljava/util/Map;Ll/d/b/h;)Lexpo/modules/imagepicker/ImagePickerOptions;

    move-result-object p1

    if-eqz p1, :cond_3

    .line 2
    new-instance v0, Landroid/content/Intent;

    invoke-direct {v0}, Landroid/content/Intent;-><init>()V

    .line 3
    invoke-virtual {p1}, Lexpo/modules/imagepicker/ImagePickerOptions;->getMediaTypes()Lexpo/modules/imagepicker/MediaTypes;

    move-result-object v1

    sget-object v2, Lexpo/modules/imagepicker/ImagePickerModule$WhenMappings;->$EnumSwitchMapping$0:[I

    invoke-virtual {v1}, Ljava/lang/Enum;->ordinal()I

    move-result v1

    aget v1, v2, v1

    const/4 v2, 0x1

    const-string v3, "image/*"

    const/4 v4, 0x2

    if-eq v1, v2, :cond_2

    const-string v2, "video/*"

    if-eq v1, v4, :cond_1

    const/4 v5, 0x3

    if-eq v1, v5, :cond_0

    goto :goto_0

    :cond_0
    const-string v1, "*/*"

    .line 4
    invoke-virtual {v0, v1}, Landroid/content/Intent;->setType(Ljava/lang/String;)Landroid/content/Intent;

    .line 5
    filled-new-array {v3, v2}, [Ljava/lang/String;

    move-result-object v1

    const-string v2, "android.intent.extra.MIME_TYPES"

    invoke-virtual {v0, v2, v1}, Landroid/content/Intent;->putExtra(Ljava/lang/String;[Ljava/lang/String;)Landroid/content/Intent;

    move-result-object v1

    const-string v2, "putExtra(Intent.EXTRA_MI\u2026Of(\"image/*\", \"video/*\"))"

    invoke-static {v1, v2}, Li/h0/d/k;->b(Ljava/lang/Object;Ljava/lang/String;)V

    goto :goto_0

    .line 6
    :cond_1
    invoke-virtual {v0, v2}, Landroid/content/Intent;->setType(Ljava/lang/String;)Landroid/content/Intent;

    goto :goto_0

    .line 7
    :cond_2
    invoke-virtual {v0, v3}, Landroid/content/Intent;->setType(Ljava/lang/String;)Landroid/content/Intent;

    :goto_0
    const-string v1, "android.intent.action.GET_CONTENT"

    .line 8
    invoke-virtual {v0, v1}, Landroid/content/Intent;->setAction(Ljava/lang/String;)Landroid/content/Intent;

    .line 9
    invoke-direct {p0, v0, v4, p2, p1}, Lexpo/modules/imagepicker/ImagePickerModule;->startActivityOnResult(Landroid/content/Intent;ILl/d/b/h;Lexpo/modules/imagepicker/ImagePickerOptions;)V

    :cond_3
    return-void
.end method

.method public onActivityResult(Landroid/app/Activity;IILandroid/content/Intent;)V
    .locals 17

    move-object/from16 v7, p0

    const-string v0, "activity"

    move-object/from16 v2, p1

    invoke-static {v2, v0}, Li/h0/d/k;->c(Ljava/lang/Object;Ljava/lang/String;)V

    .line 1
    invoke-direct/range {p0 .. p2}, Lexpo/modules/imagepicker/ImagePickerModule;->shouldHandleOnActivityResult(Landroid/app/Activity;I)Z

    move-result v0

    if-eqz v0, :cond_4

    .line 2
    invoke-direct/range {p0 .. p0}, Lexpo/modules/imagepicker/ImagePickerModule;->getMUIManager()Ll/d/b/l/r/c;

    move-result-object v0

    invoke-interface {v0, v7}, Ll/d/b/l/r/c;->unregisterActivityEventListener(Ll/d/b/l/a;)V

    .line 3
    iget-object v0, v7, Lexpo/modules/imagepicker/ImagePickerModule;->mPickerOptions:Lexpo/modules/imagepicker/ImagePickerOptions;

    const/4 v1, 0x0

    if-eqz v0, :cond_3

    .line 4
    iget-boolean v3, v7, Lexpo/modules/imagepicker/ImagePickerModule;->mWasDestroyed:Z

    if-eqz v3, :cond_1

    iget-object v3, v7, Lexpo/modules/imagepicker/ImagePickerModule;->mPromise:Ll/d/b/h;

    instance-of v3, v3, Lexpo/modules/imagepicker/PendingPromise;

    if-nez v3, :cond_1

    .line 5
    invoke-virtual {v0}, Lexpo/modules/imagepicker/ImagePickerOptions;->isBase64()Z

    move-result v3

    if-eqz v3, :cond_0

    .line 6
    new-instance v3, Lexpo/modules/imagepicker/ImagePickerOptions;

    .line 7
    invoke-virtual {v0}, Lexpo/modules/imagepicker/ImagePickerOptions;->getQuality()I

    move-result v9

    .line 8
    invoke-virtual {v0}, Lexpo/modules/imagepicker/ImagePickerOptions;->isAllowsEditing()Z

    move-result v10

    .line 9
    invoke-virtual {v0}, Lexpo/modules/imagepicker/ImagePickerOptions;->getForceAspect()Ljava/util/List;

    move-result-object v11

    const/4 v12, 0x0

    .line 10
    invoke-virtual {v0}, Lexpo/modules/imagepicker/ImagePickerOptions;->getMediaTypes()Lexpo/modules/imagepicker/MediaTypes;

    move-result-object v13

    .line 11
    invoke-virtual {v0}, Lexpo/modules/imagepicker/ImagePickerOptions;->isExif()Z

    move-result v14

    .line 12
    invoke-virtual {v0}, Lexpo/modules/imagepicker/ImagePickerOptions;->getVideoMaxDuration()I

    move-result v15

    move-object v8, v3

    .line 13
    invoke-direct/range {v8 .. v15}, Lexpo/modules/imagepicker/ImagePickerOptions;-><init>(IZLjava/util/List;ZLexpo/modules/imagepicker/MediaTypes;ZI)V

    .line 14
    new-instance v0, Lexpo/modules/imagepicker/PendingPromise;

    iget-object v4, v7, Lexpo/modules/imagepicker/ImagePickerModule;->pickerResultStore:Lexpo/modules/imagepicker/PickerResultsStore;

    const/4 v5, 0x1

    invoke-direct {v0, v4, v5}, Lexpo/modules/imagepicker/PendingPromise;-><init>(Lexpo/modules/imagepicker/PickerResultsStore;Z)V

    goto :goto_0

    .line 15
    :cond_0
    new-instance v3, Lexpo/modules/imagepicker/PendingPromise;

    iget-object v4, v7, Lexpo/modules/imagepicker/ImagePickerModule;->pickerResultStore:Lexpo/modules/imagepicker/PickerResultsStore;

    const/4 v5, 0x0

    const/4 v6, 0x2

    invoke-direct {v3, v4, v5, v6, v1}, Lexpo/modules/imagepicker/PendingPromise;-><init>(Lexpo/modules/imagepicker/PickerResultsStore;ZILi/h0/d/g;)V

    move-object/from16 v16, v3

    move-object v3, v0

    move-object/from16 v0, v16

    :goto_0
    move-object v6, v3

    move-object v3, v0

    goto :goto_1

    .line 16
    :cond_1
    iget-object v3, v7, Lexpo/modules/imagepicker/ImagePickerModule;->mPromise:Ll/d/b/h;

    if-eqz v3, :cond_2

    move-object v6, v0

    .line 17
    :goto_1
    iput-object v1, v7, Lexpo/modules/imagepicker/ImagePickerModule;->mPromise:Ll/d/b/h;

    .line 18
    iput-object v1, v7, Lexpo/modules/imagepicker/ImagePickerModule;->mPickerOptions:Lexpo/modules/imagepicker/ImagePickerOptions;

    move-object/from16 v0, p0

    move-object v1, v3

    move-object/from16 v2, p1

    move/from16 v3, p2

    move/from16 v4, p3

    move-object/from16 v5, p4

    .line 19
    invoke-direct/range {v0 .. v6}, Lexpo/modules/imagepicker/ImagePickerModule;->handleOnActivityResult(Ll/d/b/h;Landroid/app/Activity;IILandroid/content/Intent;Lexpo/modules/imagepicker/ImagePickerOptions;)V

    goto :goto_2

    .line 20
    :cond_2
    invoke-static {}, Li/h0/d/k;->i()V

    throw v1

    .line 21
    :cond_3
    invoke-static {}, Li/h0/d/k;->i()V

    throw v1

    :cond_4
    :goto_2
    return-void
.end method

.method public onCreate(Ll/d/b/e;)V
    .locals 1

    const-string v0, "moduleRegistry"

    invoke-static {p1, v0}, Li/h0/d/k;->c(Ljava/lang/Object;Ljava/lang/String;)V

    .line 1
    iget-object v0, p0, Lexpo/modules/imagepicker/ImagePickerModule;->moduleRegistryPropertyDelegate:Lexpo/modules/imagepicker/ModuleRegistryPropertyDelegate;

    invoke-virtual {v0, p1}, Lexpo/modules/imagepicker/ModuleRegistryPropertyDelegate;->onCreate(Ll/d/b/e;)V

    .line 2
    invoke-direct {p0}, Lexpo/modules/imagepicker/ImagePickerModule;->getMUIManager()Ll/d/b/l/r/c;

    move-result-object p1

    invoke-interface {p1, p0}, Ll/d/b/l/r/c;->registerLifecycleEventListener(Ll/d/b/l/k;)V

    return-void
.end method

.method public bridge synthetic onDestroy()V
    .locals 0

    invoke-static {p0}, Ll/d/b/l/n;->b(Ll/d/b/l/o;)V

    return-void
.end method

.method public onHostDestroy()V
    .locals 1

    const/4 v0, 0x1

    .line 1
    iput-boolean v0, p0, Lexpo/modules/imagepicker/ImagePickerModule;->mWasDestroyed:Z

    .line 2
    invoke-direct {p0}, Lexpo/modules/imagepicker/ImagePickerModule;->getMUIManager()Ll/d/b/l/r/c;

    move-result-object v0

    invoke-interface {v0, p0}, Ll/d/b/l/r/c;->unregisterLifecycleEventListener(Ll/d/b/l/k;)V

    return-void
.end method

.method public onHostPause()V
    .locals 0

    return-void
.end method

.method public onHostResume()V
    .locals 0

    return-void
.end method

.method public onNewIntent(Landroid/content/Intent;)V
    .locals 1

    const-string v0, "intent"

    invoke-static {p1, v0}, Li/h0/d/k;->c(Ljava/lang/Object;Ljava/lang/String;)V

    return-void
.end method

.method public final requestCameraPermissionsAsync(Ll/d/b/h;)V
    .locals 2
    .annotation runtime Ll/d/b/l/f;
    .end annotation

    const-string v0, "promise"

    invoke-static {p1, v0}, Li/h0/d/k;->c(Ljava/lang/Object;Ljava/lang/String;)V

    .line 1
    invoke-direct {p0}, Lexpo/modules/imagepicker/ImagePickerModule;->getMPermissions()Ll/d/c/h/b;

    move-result-object v0

    const-string v1, "android.permission.CAMERA"

    filled-new-array {v1}, [Ljava/lang/String;

    move-result-object v1

    invoke-static {v0, p1, v1}, Ll/d/c/h/a;->a(Ll/d/c/h/b;Ll/d/b/h;[Ljava/lang/String;)V

    return-void
.end method

.method public final requestMediaLibraryPermissionsAsync(ZLl/d/b/h;)V
    .locals 2
    .annotation runtime Ll/d/b/l/f;
    .end annotation

    const-string v0, "promise"

    invoke-static {p2, v0}, Li/h0/d/k;->c(Ljava/lang/Object;Ljava/lang/String;)V

    .line 1
    invoke-direct {p0}, Lexpo/modules/imagepicker/ImagePickerModule;->getMPermissions()Ll/d/c/h/b;

    move-result-object v0

    invoke-direct {p0, p1}, Lexpo/modules/imagepicker/ImagePickerModule;->getMediaLibraryPermissions(Z)[Ljava/lang/String;

    move-result-object p1

    array-length v1, p1

    invoke-static {p1, v1}, Ljava/util/Arrays;->copyOf([Ljava/lang/Object;I)[Ljava/lang/Object;

    move-result-object p1

    check-cast p1, [Ljava/lang/String;

    invoke-static {v0, p2, p1}, Ll/d/c/h/a;->a(Ll/d/c/h/b;Ll/d/b/h;[Ljava/lang/String;)V

    return-void
.end method
